(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6089],{43256:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return D}});var a=n(24295),r=n(36368);n(82451),n(48980);var u=n(20838);n(53294);var o=n(56697),c=n(17621),l=n(64163),s=n(47255),i=n(87536),d=n(28844),p=n(27484),f=n.n(p),h=n(60099),g=n(9473),S=n(27890),m=n(18179),Z=n(67294),y=n(94386),SearchBox_ProductMangeSearchBox=function(t){var e=t.selectGroupOption,n=t.salesStatusOption,a=t.onHandleSearchData,r=t.tabStatus,u=t.setResetState;(0,g.I0)();var o=(0,i.cI)({}),l=o.handleSubmit,s=o.control,p=o.setValue,S=(o.getValues,o.register,o.reset);o.formState.errors;var handleSearch=function(t){var e=t.date,n=t.productGroupId,r=t.salesStatus;a({page:0,size:20},{startDate:e?f()(e[0]).format("YYYY-MM-DDT00:00:00"):null,endDate:e?f()(e[1]).format("YYYY-MM-DDT23:59:59"):null,productGroupId:"all"===n?null:n,salesStatus:"all"===r?null:r})};return(0,Z.useEffect)(function(){S()},[r,S]),(0,y.tZ)(c._L,{css:[(0,h.yR)(24),"",""],children:(0,y.tZ)(d.Z,{onSubmit:l(function(t){return handleSearch(t)},function(t){return console.log("fail",t)}),children:(0,y.BX)(c.Kn,{handleReset:function(){p("date",null),p("productGroupId","all"),p("salesStatus","all"),u(!0),a({page:0,size:20},{startDate:null,endDate:null,productGroupId:null,salesStatus:null})},children:[(0,y.tZ)(c.Vg,{title:"제품 등록일",control:s}),(0,y.tZ)(c.hw,{defaultValue:"all",name:"productGroupId",control:s,title:"제품 그룹",options:e}),(0,y.tZ)(c.hw,{defaultValue:"all",name:"salesStatus",control:s,title:"단종",options:n})]})})})},B=n(11021),b=n(11475),v=n(42952),I=n(11163);n(46140);var _=n(96246);n(71878);var T=n(86752),x=n(64400),L=[{title:"No",dataIndex:"productId",align:"center"},{title:"제품 그룹명",dataIndex:"productGroupName",align:"center"},{title:"제품명",dataIndex:"productName",align:"center"},{title:"도수 구분",dataIndex:"lensPowerType",align:"center"},{title:"사용 주기",dataIndex:"lensCycle",align:"center"},{title:"등록일",dataIndex:"createdDate",align:"center",defaultSortOrder:"descend",sorter:function(t,e){return t.key-e.key}},{title:"단종",dataIndex:"salesStatus",align:"center",defaultSortOrder:"salesStatus",sorter:function(t,e){return t.key-e.key}}],ProductsManageTemplate_ProductManageListTemplate=function(){var t=(0,g.I0)(),e=(0,I.useRouter)(),n=e.push,a=e.query.tab,d=(0,_.Z)(function(t){return t.product},S.Gi),p=d.handlePageChange,f=d.getInitData,D=d.pagination,k=(0,_.Z)(function(t){return t.productLensly},m.ei),w=k.handlePageChange,E=k.getInitData,G=k.pagination,C=(0,g.v9)(function(t){return t.product}),N=(C.paging,C.content),M=C.totalElements,O=(0,g.v9)(function(t){return t.productLensly}),Y=(O.paging,O.content),R=O.totalElements,H=(0,x.Z)(["salesStatus","productGroupBausch","productGroupLensly"]),V=H.salesStatus,X=H.productGroupBausch,z=H.productGroupLensly,K=(0,Z.useState)([]),j=K[0],A=K[1],q=(0,Z.useState)(a||"B"),U=q[0],F=q[1],J=(0,Z.useState)([]),Q=J[0],W=J[1],$=(0,Z.useState)([]),tt=$[0],te=$[1],tn=(0,Z.useState)([]),ta=tn[0],tr=tn[1],tu=(0,Z.useState)(!1),to=tu[0],tc=tu[1];(0,Z.useEffect)(function(){X&&W((0,T.V1)(X))},[X]),(0,Z.useEffect)(function(){z&&te((0,T.V1)(z))},[z]),(0,Z.useEffect)(function(){V&&tr((0,T.V1)(V))},[V]),(0,Z.useEffect)(function(){a&&F(a)},[a]);var tl=(0,i.cI)({}),ts=tl.handleSubmit;tl.formState.errors;var handleSendData=function(e){var n={ids:j};"B"===U?t((0,S.AY)({sendObject:n})):t((0,m.U)({sendObject:n})),A([])};(0,Z.useEffect)(function(){return"B"===U?f():E(),function(){t((0,S.dn)()),t((0,m.fl)())}},[U]);var handleChangeTabMenu=function(t,e,a){"B"===t?(tc(!0),n("/admin/product/manage?tab=".concat(t))):"L"===t&&(tc(!0),n("/admin/product/manage?tab=".concat(t)))},ti=null==N?void 0:N.map(function(t){return{No:t.productId,제품그룹명:t.productGroupName,제품명:t.productName,도수구분:t.lensPowerType,사용주기:t.lensCycle,등록일:t.createdDate,단종:t.salesStatus}}),_goRouterHandler=function(t){n("/admin/product/manage/sub/".concat("B"===t?"bausch":"lensly"))};return(0,y.BX)(y.HY,{children:[(0,y.BX)("div",{css:P,children:[(0,y.tZ)(s.Z,{title:"\uD83D\uDC49\uD83C\uDFFC 바슈롬의 제품 리스트이며, 바슈롬의 제품을 관리하는 페이지입니다. "}),(0,y.tZ)(c.EK,{type:"dashed",icon:(0,y.tZ)(v.Z,{}),name:"증정제품 관리",onClick:function(){return n("/admin/product/manage/set-giveaway")},css:(0,h.g4)(10)})]}),(0,y.tZ)(c.n,{border:!1}),(0,y.tZ)(u.default,{activeKey:U,onTabClick:function(t,e,n){return handleChangeTabMenu(t,e,n)},type:"line",centered:!0,size:"smail",items:[{label:"BAUSCH",key:"B"},{label:"LENSLY",key:"L"}]}),(0,y.tZ)(SearchBox_ProductMangeSearchBox,{selectGroupOption:"B"===U?Q:tt,salesStatusOption:ta,onHandleSearchData:"B"===U?f:E,tabStatus:U,setResetState:tc}),(0,y.BX)(c._L,{children:[(0,y.tZ)(r.qc,{handleSearch:function(t){var e={searchProductName:t.searchText};"B"===U?f({page:0,size:20},e):E({page:0,size:20},e)},total:"B"===U?M:R,select:null==j?void 0:j.length,searchPlaceholder:"제품명 입력",resetState:to,setResetState:tc}),(0,y.tZ)(l.Z,{tabStatus:U,checkbox:!0,selectedRowKeys:j,onSelectListItem:function(t){A(t)},listData:"B"===U?N:Y,columns:L,pagination:"B"===U?D:G,handleChangePageOption:"B"===U?p:w,slugType:"productAccount",option:(0,y.tZ)(c.l0,{onSubmit:ts(function(t){return handleSendData(t)}),children:(0,y.tZ)(c.EK,{htmlType:"danger",type:"danger",name:"삭제",css:(0,h.Lh)(5)})})})]}),(0,y.tZ)(c.n,{border:!1}),(0,y.tZ)(c._L,{children:(0,y.tZ)(B.Z,{goRouterHandler:function(){return _goRouterHandler(U)},showButton:!0,showLeftBtn:!0,showRightBtn:!0,lfText:"엑셀 다운로드",rtText:"".concat("B"===U?"바슈롬 제품등록":"렌즐리 제품등록"),onClick:function(){o.Z.confirm({title:"엑셀 다운로드",icon:(0,y.tZ)(b.Z,{}),content:"현재 테이블을 엑셀 다운로드 하시겠습니까?",okText:"다운로드",cancelText:"취소",onOk:function(){return(0,T.r8)(ti)}})}})})]})},P={name:"1eoy87d",styles:"display:flex;justify-content:space-between"},Products=function(){return(0,y.tZ)(y.HY,{children:(0,y.tZ)(ProductsManageTemplate_ProductManageListTemplate,{})})};Products.getLayout=function(t){return(0,y.tZ)(a.L,{children:t})};var D=Products},80218:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/product/manage",function(){return n(43256)}])}},function(t){t.O(0,[9774,2888,179],function(){return t(t.s=80218)}),_N_E=t.O()}]);