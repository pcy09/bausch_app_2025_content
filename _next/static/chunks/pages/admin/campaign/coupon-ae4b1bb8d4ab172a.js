(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6300],{74192:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(24295),o=n(36368);n(48980);var i=n(20838),c=n(59499);n(35797);var r=n(64749),u=n(77191),p=n(47255),l=n(67488),s=n(9473),d=n(67294),f=n(17621),g=n(60099),h=n(11163),m=n(42952),S=n(96246),y=n(29460);n(71878);var b=n(18383),I=n(22507),O=n(64400),E=n(70431),x=n(86752),Z=n(94386);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var CampaignTemplate_PromotionCouponTemplate=function(e){(0,u.Z)(e);var t=[{title:"쿠폰ID",dataIndex:"couponId",align:"center"},{title:"쿠폰 유형",dataIndex:"couponType",align:"center"},{title:"쿠폰 구분",dataIndex:"couponOnOffType",align:"center"},{title:"쿠폰명",dataIndex:"couponName",align:"center"},{title:"유효기간",dataIndex:"expirationPeriod",align:"center",render:function(e,t){return"".concat(t.expirationStartDate," ~ ").concat(t.expirationEndDate)}},{title:"등록일",dataIndex:"couponRegDate",align:"center"},{title:"노출 여부",dataIndex:"exposedStatus",align:"center",render:function(e,t){return(0,Z.tZ)(r.default,{style:{width:"100%",height:"auto"},value:e,onChange:function(e){return handleSelectChange(e,t)},options:Q,onClick:function(e){return e.stopPropagation()}})}},{title:"쿠폰번호 발행",dataIndex:"couponId",align:"center",render:function(e,t){var n;return(0,Z.tZ)(Z.HY,{children:(null==ei?void 0:null===(n=ei.find(function(e){return e.value===(null==t?void 0:t.couponOnOffType)}))||void 0===n?void 0:n.key)==="OFFLINE"&&(0,Z.tZ)(Z.HY,{children:(0,Z.tZ)(f.EK,{type:"primary",name:"발행",onClick:function(t){t.stopPropagation(),showPopup("쿠폰번호 발급",e)}})})})}}],n=[{title:"재발급ID",dataIndex:"couponReissueId",align:"center"},{title:"쿠폰 유형",dataIndex:"couponType",align:"center"},{title:"쿠폰명",dataIndex:"couponName",align:"center"},{title:"쿠폰ID",dataIndex:"couponId",align:"center"},{title:"유효기간",dataIndex:"expirationPeriod",align:"center",render:function(e,t){return"".concat(t.expirationStartDate," ~ ").concat(t.expirationEndDate)}},{title:"발급 회원명",dataIndex:"memberName",align:"center",render:function(e,t){return(0,Z.tZ)("a",{target:"_blank",href:"/admin/member/".concat(t.memberId),children:e})}},{title:"수량",dataIndex:"quantity",align:"center"},{title:"등록일",dataIndex:"regDate",align:"center"},{title:"노출 여부",dataIndex:"exposedStatus",align:"center",render:function(e,t){return(0,Z.tZ)(r.default,{style:{width:"100%",height:"auto"},value:e,onChange:function(e){return handleSelectChange(e,t)},options:Q,onClick:function(e){return e.stopPropagation()}})}}],a=(0,s.I0)(),c=(0,h.useRouter)().push,v=(0,d.useState)([]),C=v[0],P=v[1],w=(0,d.useState)([]),_=w[0],j=w[1],k=(0,d.useState)("BAUSCH"),D=k[0],R=k[1],N=(0,d.useState)(!1),U=N[0],H=N[1],K=(0,d.useState)([]),L=K[0],z=K[1],B=(0,d.useState)([]),X=B[0],Y=B[1],A=(0,d.useState)([]),V=A[0],F=A[1],G=(0,d.useState)([]),M=G[0],q=G[1],J=(0,d.useState)([]),Q=J[0],W=J[1],$=(0,d.useState)({couponTab:"BAUSCH",channelType:"BAUSCH"}),ee=$[0],et=$[1],en=(0,O.Z)(["couponType","exposedStatus","couponOnOffType","couponSearchCode","couponTab"]),ea=en.couponType,eo=en.exposedStatus,ei=en.couponOnOffType,ec=en.couponSearchCode,er=en.couponTab,eu=(0,s.v9)(function(e){return null==e?void 0:e.campaign}).content,ep=(0,S.Z)(function(e){return null==e?void 0:e.campaign},y.De,null,ee),el=ep.handlePageChange,es=ep.getInitData,ed=ep.pagination;(0,d.useEffect)(function(){ec&&z((0,x.RG)(ec))},[ec]),(0,d.useEffect)(function(){ea&&Y((0,x.V1)(ea))},[ea]),(0,d.useEffect)(function(){ei&&F((0,x.V1)(ei))},[ei]),(0,d.useEffect)(function(){eo&&(q((0,x.V1)(eo)),W((0,x.RG)(eo)))},[eo]),(0,d.useEffect)(function(){(null==er?void 0:er.length)>0&&j(er.map(function(e){return{label:e.value,key:e.key}}))},[er]),(0,d.useEffect)(function(){return es({page:0,size:10}),function(){a((0,y.Ms)())}},[a,es,ee]);var handleSelectChange=function(e,t){var n=_objectSpread({page:0,size:10,couponTab:D},"REISSUE"!==D&&{channelType:D});"REISSUE"!==D?a((0,y.Od)({params:"ids=".concat(t.key,"&exposedStatus=").concat(e),initialParams:n})):a((0,y.pb)({id:t.couponReissueId,params:e,initialParams:n}))},showPopup=function(e,t){a((0,E.F1)({params:{page:0,size:5},id:t})),a((0,b.Xf)({width:720,isModalOpen:!0,content:(0,Z.tZ)(I.Z,{couponId:t}),title:e}))};return(0,Z.BX)(Z.HY,{children:[(0,Z.BX)("div",{css:g.Y2,children:[(0,Z.tZ)(p.Z,{title:"\uD83D\uDC49\uD83C\uDFFC 바슈롬에서 소비자에게 혜택을 제공하는 쿠폰 리스트이며 쿠폰과 연결되어있는 제품 및 스토어 그룹을 확인할 수 있습니다."}),(0,Z.tZ)(f.z2,{span:8}),(0,Z.tZ)(f.EK,{type:"primary",onClick:function(){c("/admin/campaign/coupon/set-reissue")},icon:(0,Z.tZ)(m.Z,{}),name:"회원 쿠폰 재발급",htmlType:"submit",css:(0,g.g4)(10)})]}),(0,Z.tZ)(f.n,{border:!1}),(0,Z.tZ)(i.default,{onTabClick:function(e){R(e),et(_objectSpread({couponTab:e},"REISSUE"!==e&&{channelType:e}))},items:_,type:"line",centered:!0,size:"smail"}),(0,Z.tZ)(l.Z,{selectOptions1:X,selectOptions2:V,selectOptions3:M,onHandleSearchData:es,setResetState:H,tabStatus:D}),(0,Z.BX)(f._L,{children:[(0,Z.tZ)(o.qc,{handleSearch:function(e){es({page:0,size:10},{couponSearchCode:e.selectOptions,searchText:e.searchText})},selectOptions:L,resetState:U,setResetState:H,defaultValue:"COUPON_NAME"}),(0,Z.tZ)(f.wY,{checkbox:!0,selectedRowKeys:C,onSelectListItem:function(e){P(e)},listData:eu,columns:"REISSUE"===D?n:t,detail:"REISSUE"!==D,handleChangePageOption:el,pagination:ed,option:(0,Z.tZ)(f.EK,{htmlType:"danger",type:"danger",name:"삭제",css:(0,g.Lh)(5),onClick:function(){var e={initialParams:_objectSpread({page:0,size:10,couponTab:D},"REISSUE"!==D&&{channelType:D}),ids:C};"REISSUE"===D?a((0,y.DI)({sendObject:e})):a((0,y.IA)({sendObject:e})),P([])}})})]}),(0,Z.tZ)(f.n,{border:!1}),(0,Z.tZ)(f._L,{children:(0,Z.tZ)(f.sw,{css:T,children:(0,Z.tZ)(f.EK,{type:"primary",name:"쿠폰 등록",htmlType:"submit",css:(0,g.Lh)(5),onClick:function(){return c("/admin/campaign/coupon/sub")}})})}),(0,Z.tZ)(f.GI,{})]})},T={name:"5ej25d",styles:"display:flex;justify-content:flex-end;align-items:center"},coupon=function(){return(0,Z.tZ)(Z.HY,{children:(0,Z.tZ)(CampaignTemplate_PromotionCouponTemplate,{})})};coupon.getLayout=function(e){return(0,Z.tZ)(a.L,{children:e})};var v=coupon},29889:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/campaign/coupon",function(){return n(74192)}])}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=29889)}),_N_E=e.O()}]);